!function r(e,s,t){function o(i,f){if(!s[i]){if(!e[i]){var a="function"==typeof require&&require;if(!f&&a)return a(i,!0);if(n)return n(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=s[i]={exports:{}};e[i][0].call(u.exports,function(r){var s=e[i][1][r];return o(s?s:r)},u,u.exports,r,e,s,t)}return s[i].exports}for(var n="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(r,e,s){"use strict";var t=e.exports=r("./src/errors.js")();r("./src/inherits-client.js")(t),r("./src/capture-stack-client.js")(t),r("./src/errors/auth-error.js")(t),r("./src/errors/dev-error.js")(t),r("./src/errors/not-found-error.js")(t),r("./src/errors/notify-user.js")(t),r("./src/errors/service-error.js")(t),r("./src/errors/user-error.js")(t)},{"./src/capture-stack-client.js":2,"./src/errors.js":3,"./src/errors/auth-error.js":4,"./src/errors/dev-error.js":5,"./src/errors/not-found-error.js":6,"./src/errors/notify-user.js":7,"./src/errors/service-error.js":8,"./src/errors/user-error.js":9,"./src/inherits-client.js":10}],2:[function(r,e,s){"use strict";function t(r){r.captureStackTrace=o}function o(r){r.stack=new Error(""+(r.name?r.name+": ":"")+(r.message||r.safe_message)).stack}e.exports=t},{}],3:[function(r,e,s){"use strict";function t(){function r(){if("function"==typeof s)return s.apply(this,arguments)}function e(r){s=r}var s;return r.setFn=e,r.add=o,r.extend=n,r.stack=i,r.rebase=d,r.json=l,r}function o(r,e,s){if(2===arguments.length&&(s=e,e=s.field),r===s)return r;if(!r||"object"!=typeof r){var t=new Error("Cannot add error to non object");throw t.errors=[s],t}var n;if(void 0===e){if(!s.generic){if(r.generic)return d(r,s);r.errors?~r.errors.indexOf(s)||r.errors.push(s):r.errors=[s]}if(s.errors)for(n=0;n<s.errors.length;n++)r=o(r,s.errors[n]);if(s.fields)for(n in s.fields)r=o(r,n,s.fields[n])}else if(r.fields||(r.fields={}),r.fields[e]?!s.generic&&r.fields[e].generic?r.fields[e]=d(r.fields[e],s):r.fields[e]=o(r.fields[e],s):r.fields[e]=s,s.fields)for(n in s.fields)r=o(r,e+"."+n,s.fields[n]);return r}function n(r,e,s,t,o){"number"!=typeof s&&"boolean"!=typeof s||(o=t,t=s,s=void 0),"boolean"==typeof t&&(o=t,t=void 0);var n=u(this)?void 0:this,i=n?n.base:this;return i.inherits&&i.inherits(r,n?n:Error),n?(void 0===s&&(s=n.prototype.message),void 0===o&&(o=n.client_safe_messages),void 0===t&&(t=n.prototype.status_code),n.base[e]=r):this[e]=r,s=s||"There was an error.",r.prototype.name=e,r.prototype.message=s,r.prototype.client_safe_message=s,r.prototype.status_code=t&&"number"==typeof t?t:500,r.prototype.isGeneric=m,r.prototype.init=c,r.base=this,r.client_safe_messages=!!o,r.extend=this.extend,r}function i(r,e){var s=this;Array.isArray(r)&&r.length>0&&(r={name:"Array",message:"",errors:r});var t=f(r);if(r&&(r.from||r.additional||e!==!1&&(r.errors||r.fields))){if(t+="\n    ---",r.additional)try{t+=a("additional info",JSON.stringify(r.additional,null,"    "))}catch(r){t+=a("additional info error",r.message)}if(r.from&&(t+=a("from",s.stack(r.from,!1))),e!==!1){if(r.errors&&Array.isArray(r.errors))for(var o=0;o<r.errors.length;o++)t+=a("additional error",s.stack(r.errors[o],!1));if("addl"!==e&&r.fields&&"object"==typeof r.fields)for(var n in r.fields)t+=a(n,s.stack(r.fields[n],"addl"))}}return t}function f(r){var e;if(!r||"object"!=typeof r||Array.isArray(r)){try{r=void 0===r?"undefined":"function"==typeof r?"[function]":JSON.stringify(r)}catch(e){r=""+r}r={name:"UnknownError",message:""+r+"."}}if(e=r.super_stack?r.error_stack:r.stack,!e)if(e=r.name?r.name+": ":"UnknownError: ","message"in r)e+=r.message;else try{e+=JSON.stringify(r)+"."}catch(s){e+=""+r+"."}return e}function a(r,e){var s="\n"+r+": "+e;return s.replace(y,"\n    ")}function c(r,e,s,t,o){var n=this,i=r.base;return s instanceof Error?(o=t,t=s,s=void 0):"string"==typeof t&&(o=t,t=void 0),e&&(this.message=""+e,r.client_safe_messages&&(this.client_safe_message=""+e)),t&&(this.from=t),void 0!==s&&null!==s&&(this.additional=s),o&&"string"==typeof o&&(this.field=o),i&&i.captureStackTrace&&(i.captureStackTrace(this,r),this.error_stack=this.stack),Object.defineProperty(this,"stack",{get:function(){return i.stack(n)},enumerable:!0,configurable:!0}),Object.defineProperty(this,"super_stack",{value:!0,enumerable:!1,configurable:!0}),this}function u(r){if(r&&"function"==typeof r.setFn&&"function"==typeof r.add&&"function"==typeof r.extend&&"function"==typeof r.rebase)return!0}function d(r,e){var s,t,n;if(e.errors&&(s=e.errors,delete e.errors),e.fields&&(t=e.fields,delete e.fields),e=o(e,r),s&&(e.errors=e.errors.concat(s)),t)for(n in t)e=o(e,n,t[n]);return e}function l(r,e,s){var t,n,i,a,c,u={};if(s&&"object"==typeof s||(s={}),"all"===e?e={message:"message",client_safe_message:"client_safe_message",errors:"errors",field:"field",fields:"fields",from:"from",name:"name",stack:"stack",status_code:"status_code"}:e&&"object"==typeof e||(e={client_safe_message:"message","errors.client_safe_message":"errors",field:"field","fields.client_safe_message":"fields",name:"name",status_code:"status_code"}),Array.isArray(r)&&(i=r.slice(1),r=r[0],r&&"object"==typeof r))for(Array.isArray(r)&&(r={name:"UnknownError",message:"[array of arrays]"}),n=0;n<i.length;n++)r=o(r,i[n]);r&&"object"==typeof r||("function"==typeof r&&(r="[function]"),r={type:"UnknownError",message:r});for(var d in e)if(t=e[d],n=d.indexOf("."),~n?(c=d.substr(n+1),d=d.substr(0,n)):c=void 0,!(d in s&&s[d]===!0))if("stack"!==d)if(d in r)switch(d){case"from":c?(a={},a[c]=c,u[t]=l(r.from,a)[c]):u[t]=l(r.from,e,p(s,"from"in s?s.from:{fields:!0,errors:!0,status_code:!0}));break;case"errors":if(c&&(a={},a[c]=c),r.errors.length>0){for(i=[],n=0;n<r.errors.length;n++)c?i[n]=l(r.errors[n],a)[c]:i[n]=l(r.errors[n],e,p(s,"errors"in s?s.errors:{fields:!0,errors:!0,status_code:!0}));u[t]=i}break;case"fields":c&&(a={},a[c]=c),i={};for(n in r.fields)c?i[n]=l(r.fields[n],a)[c]:i[n]=l(r.fields[n],e,p(s,"fields"in s?s.fields:{fields:!0,status_code:!0}));u[t]=i;break;default:u[t]=r[d]}else switch(d){case"client_safe_message":case"message":u[t]="There was an error.";break;case"name":u[t]="UnknownError";break;case"status_code":u[t]=500}else u[t]=f(r);return u}function p(r,e){var s,t={};for(s in r)t[s]=r[s];for(s in e)t[s]=e[s];return t}function m(r){return this.generic=r!==!1,this}e.exports=t;var y=/(\r\n|\r|\n)/g},{}],4:[function(r,e,s){"use strict";function t(r){function e(r,s,t,o){this.init(e,r,s,t,o)}r.extend(e,"AuthError","Authorization required.",401,!0)}e.exports=t},{}],5:[function(r,e,s){"use strict";function t(r){function e(r,s,t,o){return this.init(e,r,s,t,o)}r.extend(e,"DevError","Bad setup on server.",500)}e.exports=t},{}],6:[function(r,e,s){"use strict";function t(r){function e(r,s,t,o){return this.init(e,r,s,t,o)}r.extend(e,"NotFoundError","Not found.",404,!0)}e.exports=t},{}],7:[function(r,e,s){"use strict";function t(r){function e(r,s,t,o){return this.init(e,r,s,t,o)}r.extend(e,"NotifyUser","A server error occurred.",500,!0)}e.exports=t},{}],8:[function(r,e,s){"use strict";function t(r){function e(r,s,t,o){return this.init(e,r,s,t,o)}r.extend(e,"ServiceError","Error from service providor.",500,!0)}e.exports=t},{}],9:[function(r,e,s){"use strict";function t(r){function e(r,s,t,o){return this.init(e,r,s,t,o)}r.extend(e,"UserError","Please check your input.",400,!0)}e.exports=t},{}],10:[function(r,e,s){"use strict";function t(r){r.inherits=o}function o(r,e){r.super_=e,r.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}e.exports=t},{}]},{},[1]);
//# sourceMappingURL=super-errors.js.map
